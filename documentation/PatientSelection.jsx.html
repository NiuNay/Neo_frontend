<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: PatientSelection.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: PatientSelection.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import { DropdownButton, Dropdown, Container, Row, Col } from "react-bootstrap";
import UserService from "../services/UserService";
import PageHeader from "./PageHeader";
import "./App.css";
import "./PatientSelection.css";

let selectedPatient = ""; // stores selected patient ID

/**This class allows the user to select the patient ID from those stored in the database. It stores the selected ID
 * and makes it accessible to all other components.*/
class PatientSelection extends React.Component {

    constructor(props){
        super(props);
        this.state = {
            patients:[],
            title: "Patient ID"
        }
        this.handleSelect = this.handleSelect.bind(this);
    }

    /**Retrieves all patient IDs stored in the database.*/
    componentDidMount(){
        UserService.getUsers()
            .then((response) => {
                this.setState({ patients: response.data })
            })
            .catch(() => {  // displays an alert if patient data is not retrieved
                alert("Error retrieving patient data");
            });
    }

    /**Stores the selected patient ID after user selection.*/
    handleSelect(eventKey) {
        selectedPatient = eventKey;
        this.setState({title: eventKey})
        console.log("Patient ID saved: "  + eventKey);  // for programmer to easily check patient ID has been saved
        localStorage.setItem("selectedPatient", selectedPatient); // saves selected patient ID into browser local storage, making it retrievable by all other application webpages and components
    }

    /**Allows the user to proceed to the main menu page only if a patient has been selected.*/
    handleClick=()=>{
        if (this.state.title === "Patient ID") {
            alert("Please select a patient");
        }
        else {
            window.open("./menu", "_self");
        }
    }

render (){
        return (
            &lt;div className="main-div">
                &lt;PageHeader title="Patient Selection" />
                &lt;Container className="container">
                    &lt;Row>
                        &lt;Col className="left-col">Select patient&lt;/Col>
                        &lt;Col>
                            &lt;DropdownButton variant={"light"} size={"lg"} style={{ color:"#565656" }}
                                id="dropdown-basic-button"
                                title={this.state.title}       // displays "Patient ID" as default text
                                onSelect={this.handleSelect}
                            >
                                {
                                    this.state.patients.map(   // displays all patient IDs
                                        patient =>
                                            &lt;Dropdown.Item className="dropdown-item"
                                                           eventKey={patient.id}
                                                           value={patient.id}
                                                           key={patient.id}
                                            >{patient.id}&lt;/Dropdown.Item>
                                    )
                                }
                            &lt;/DropdownButton>
                        &lt;/Col>
                    &lt;/Row>
                &lt;/Container>

                &lt;button className="page-button"
                        style={{ position:"absolute", top:"80%", alignItems:"centre" }}
                        onClick={this.handleClick}
                >Next&lt;/button>
            &lt;/div>
        )
    }
}

export default PatientSelection</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="PatientSelection.html">PatientSelection</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sat Jan 15 2022 10:00:00 GMT-0100 (Azores Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
